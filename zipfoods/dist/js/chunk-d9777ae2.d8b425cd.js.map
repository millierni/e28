{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?b3b5","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["id","data-test","user","name","favorites","length","favorite","key","logout","type","data","email","password","login","errors","error","index","class","computed","this","$store","state","products","methods","loadFavorites","get","then","response","map","getters","getProductById","product_id","post","authenticated","commit","success","watch","mounted","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-d9777ae2.d8b425cd.js","sourcesContent":["<template>\n    <div id=\"account-page\">\n        <div v-if=\"user\">\n            <h2 data-test=\"welcome-message\">Hi, {{ user.name }}!</h2>\n\n            <div id=\"favorites\">\n                <strong>Your Favorites</strong>\n                <p v-if=\"favorites && favorites.length == 0\">\n                    No favorites yet.\n                </p>\n                <li v-for=\"(favorite, key) in favorites\" v-bind:key=\"key\">\n                    {{ favorite.name }}\n                </li>\n            </div>\n\n            <button v-on:click=\"logout\" data-test=\"logout-button\">\n                Logout\n            </button>\n        </div>\n\n        <div v-else id=\"loginForm\">\n            <h2>Login</h2>\n            <small>\n                (Form is prefilled for demonstration purposes; remove in final\n                application)\n            </small>\n            <div>\n                <label>\n                    Email:\n                    <input\n                        type=\"text\"\n                        v-model=\"data.email\"\n                        data-test=\"email-input\"\n                    />\n                </label>\n            </div>\n            <div>\n                <label>\n                    Password:\n                    <input\n                        type=\"password\"\n                        v-model=\"data.password\"\n                        data-test=\"password-input\"\n                    />\n                </label>\n            </div>\n\n            <button v-on:click=\"login\" data-test=\"login-button\">Login</button>\n\n            <ul v-if=\"errors\">\n                <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n                    {{ error }}\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\n\nexport default {\n    data() {\n        return {\n            // Form is prefilled for demonstration purposes; remove in final application\n            // jill@harvard.edu/asdfasdf is one of our seed users from e28api/seeds/user.json\n            data: {\n                email: \"jill@harvard.edu\",\n                password: \"asdfasdf\",\n            },\n            errors: null,\n            favorites: [],\n        };\n    },\n    computed: {\n        user() {\n            return this.$store.state.user;\n        },\n        products() {\n            return this.$store.state.products;\n        },\n    },\n    methods: {\n        loadFavorites() {\n            if (this.user) {\n                axios\n                    .get(\"favorite/query?user_id=\" + this.user.id)\n                    .then((response) => {\n                        this.favorites = response.data.favorite.map(\n                            (favorite) => {\n                                return this.$store.getters.getProductById(\n                                    favorite.product_id\n                                );\n                            }\n                        );\n                    });\n            }\n        },\n        login() {\n            axios.post(\"login\", this.data).then((response) => {\n                if (response.data.authenticated) {\n                    this.$store.commit(\"setUser\", response.data.user);\n                } else {\n                    this.errors = response.data.errors;\n                }\n            });\n        },\n        logout() {\n            axios.post(\"logout\").then((response) => {\n                if (response.data.success) {\n                    this.$store.commit(\"setUser\", null);\n                }\n            });\n        },\n    },\n    watch: {\n        user() {\n            this.loadFavorites();\n        },\n    },\n    mounted() {\n        this.loadFavorites();\n    },\n};\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=44f7c58e\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}