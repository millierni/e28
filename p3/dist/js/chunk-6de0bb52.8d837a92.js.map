{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?b3b5","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["id","class","user","name","logout","type","data","email","validate","errors","password","otherErrors","login","links","link","key","to","paths","isAdded","isWarning","Register","computed","this","$store","state","methods","validator","fails","all","passes","post","then","response","authenticated","commit","success","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"sJACSA,GAAG,gB,sBASI,eAAc,UAAV,SAAK,G,iBAGE,Y,qCAcA,e,6BAaNC,MAAM,gB,GAaDA,MAAM,Q,oFApD5B,eAwDM,MAxDN,EAwDM,CAtDS,EAAAC,M,iBAAX,eAGM,SAFF,eAA6B,UAAzB,OAAI,eAAG,EAAAA,KAAKC,MAAO,IAAC,GACxB,eAA2C,UAA9B,QAAK,8BAAE,EAAAC,QAAA,EAAAA,OAAA,sBAAQ,c,iBAGhC,eAgDM,SA/CF,eAqCM,YApCF,EAEA,eAYM,YAXF,eAOQ,c,iBALJ,eAIM,SAHFC,KAAK,O,qDACI,EAAAC,KAAKC,MAAK,IACd,OAAI,8BAAE,EAAAC,UAAA,EAAAA,SAAA,sB,mBADF,EAAAF,KAAKC,WAIX,EAAAE,Q,iBAAX,eAEM,SADO,EAAAA,OAAOF,O,iBAAhB,eAAgD,qBAAtB,EAAAE,OAAOF,MAAK,Q,iDAI9C,eAYM,YAXF,eAOQ,c,iBALJ,eAIM,SAHFF,KAAK,W,qDACI,EAAAC,KAAKI,SAAQ,IACjB,OAAI,8BAAE,EAAAF,UAAA,EAAAA,SAAA,sB,mBADF,EAAAF,KAAKI,cAIX,EAAAD,Q,iBAAX,eAEM,SADO,EAAAA,OAAOC,U,iBAAhB,eAAsD,qBAAzB,EAAAD,OAAOC,SAAQ,Q,iDAIpB,EAAAC,a,iBAAhC,eAEM,MAFN,EAEM,eADC,EAAAA,YAAW,Q,sBAIlB,eAAyC,UAA5B,QAAK,8BAAE,EAAAC,OAAA,EAAAA,MAAA,sBAAO,WAG/B,eAOK,Y,mBAND,eAKc,2BAJC,EAAAC,OAAK,SAAbC,G,wBADP,eAKc,GAHPC,IAAKD,EACLE,GAAI,EAAAC,MAAMH,I,yBACb,iBAAoC,CAApC,eAAoC,OAApC,EAAoC,eAAdA,GAAI,O,uEAW/B,GACXR,KADW,WAEP,MAAO,CACHA,KAAM,CACFC,MAAO,mBACPG,SAAU,YAEdD,OAAQ,KACRE,YAAa,KACbO,SAAS,EACTC,WAAW,EAGXN,MAAO,CAAC,YAGRI,MAAO,CACHG,SAAU,cAKtBC,SAAU,CACNnB,KADM,WAEF,OAAOoB,KAAKC,OAAOC,MAAMtB,OAIjCuB,QAAS,CAELjB,SAFK,WAGD,IAAIkB,EAAY,IAAI,IAAUJ,KAAKhB,KAAM,CACrCC,MAAO,iBACPG,SAAU,2BAUd,OAPIgB,EAAUC,SACVL,KAAKb,OAASiB,EAAUjB,OAAOmB,MAC/BN,KAAKH,WAAY,GAEjBG,KAAKb,OAAS,KAGXiB,EAAUG,UAGrBjB,MAlBK,WAkBG,WACAU,KAAKd,YACL,OAAMsB,KAAK,QAASR,KAAKhB,MAAMyB,MAAK,SAACC,GAC7BA,EAAS1B,KAAK2B,cACd,EAAKV,OAAOW,OAAO,UAAWF,EAAS1B,KAAKJ,MAE5C,EAAKS,YAAcqB,EAAS1B,KAAKG,WAMjDL,OA9BK,WA8BI,WACL,OAAM0B,KAAK,UAAUC,MAAK,SAACC,GACnBA,EAAS1B,KAAK6B,SACd,EAAKZ,OAAOW,OAAO,WAAW,SC1HlD,EAAOE,OAASA,EAED,gB,qBCLf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAK3B,MAAM4B,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO","file":"js/chunk-6de0bb52.8d837a92.js","sourcesContent":["<template>\n    <div id=\"account-page\">\n\n        <div v-if=\"user\">\n            <h2>Hi, {{ user.name }}!</h2>\n            <button v-on:click=\"logout\">Logout</button>\n        </div>\n\n        <div v-else>\n            <div>\n                <h2>Login</h2>\n\n                <div>\n                    <label>\n                        Email:\n                        <input \n                            type=\"text\" \n                            v-model=\"data.email\" \n                            v-on:blur=\"validate\"\n                            />\n                    </label>\n                    <div v-if=\"errors\">\n                        <p v-if=\"errors.email\">{{ errors.email[0] }}</p>\n                    </div>\n                </div>\n\n                <div>\n                    <label>\n                        Password:\n                        <input \n                            type=\"password\" \n                            v-model=\"data.password\"\n                            v-on:blur=\"validate\"\n                            />\n                    </label>\n                    <div v-if=\"errors\">\n                        <p v-if=\"errors.password\">{{ errors.password[0] }}</p>\n                    </div>                    \n                </div>\n\n                <div class=\"alert-danger\" v-if=\"otherErrors\">\n                    {{ otherErrors[0] }}\n                </div>\n\n\n                <button v-on:click=\"login\">Login</button>\n            </div>\n\n            <ul>\n                <router-link\n                v-for=\"link in links\"\n                v-bind:key=\"link\"\n                v-bind:to=\"paths[link]\">\n                    <span class=\"page\">{{ link }}</span>\n                </router-link>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nimport Validator from \"validatorjs\";\n\nexport default {\n    data() {\n        return {\n            data: {\n                email: \"jill@harvard.edu\",\n                password: \"asdfasdf\",\n            },\n            errors: null,\n            otherErrors: null,\n            isAdded: false,\n            isWarning: false,\n\n            /* Store links in an array to maintain order */\n            links: [\"Register\"],\n\n            /* Map links to the appropriate component */\n            paths: {\n                Register: \"Register\",\n            },\n        };\n    },\n\n    computed: {\n        user() {\n            return this.$store.state.user;\n        },\n    },\n\n    methods: {\n\n        validate() {\n            let validator = new Validator(this.data, {\n                email: \"required|email\",\n                password: \"required|between:8,100\",\n            });\n\n            if (validator.fails()) {\n                this.errors = validator.errors.all();\n                this.isWarning = true;\n            } else {\n                this.errors = null;\n            }\n\n            return validator.passes();\n        },\n\n        login() {\n            if (this.validate()) {\n                axios.post(\"login\", this.data).then((response) => {\n                    if (response.data.authenticated) {\n                        this.$store.commit(\"setUser\", response.data.user);\n                    } else {\n                        this.otherErrors = response.data.errors;\n                    }\n                });\n            }\n        },\n\n        logout() {\n            axios.post(\"logout\").then((response) => {\n                if (response.data.success) {\n                    this.$store.commit(\"setUser\", false);\n                }\n            });\n        },\n    },\n};\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=cc71412c\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}