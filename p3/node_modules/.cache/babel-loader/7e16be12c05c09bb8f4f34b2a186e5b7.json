{"remainingRequest":"/opt/lampp/htdocs/e28/p3/node_modules/thread-loader/dist/cjs.js!/opt/lampp/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/opt/lampp/htdocs/e28/p3/src/components/pages/RegisterPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/opt/lampp/htdocs/e28/p3/src/components/pages/RegisterPage.vue","mtime":1620779912484},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXhpb3MgfSBmcm9tICJAL2NvbW1vbi9hcHAuanMiOwppbXBvcnQgVmFsaWRhdG9yIGZyb20gInZhbGlkYXRvcmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBpc1JlZ2lzdGVyZWQ6IGZhbHNlLAogICAgICBpc0FkZGVkOiBmYWxzZSwKICAgICAgZXJyb3JzOiBudWxsLAogICAgICBvdGhlckVycm9yczogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IodGhpcy5kYXRhLCB7CiAgICAgICAgbmFtZTogInJlcXVpcmVkfGJldHdlZW46MywxMDAiLAogICAgICAgIGVtYWlsOiAicmVxdWlyZWR8ZW1haWwiLAogICAgICAgIHBhc3N3b3JkOiAicmVxdWlyZWR8YmV0d2Vlbjo4LDEwMCIKICAgICAgfSk7CgogICAgICBpZiAodmFsaWRhdG9yLmZhaWxzKCkpIHsKICAgICAgICB0aGlzLmVycm9ycyA9IHZhbGlkYXRvci5lcnJvcnMuYWxsKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gdmFsaWRhdG9yLnBhc3NlcygpOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnZhbGlkYXRlKCkpIHsKICAgICAgICBheGlvcy5wb3N0KCIvcmVnaXN0ZXIiLCB0aGlzLmRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy5vdGhlckVycm9ycyA9IHJlc3BvbnNlLmRhdGEuZXJyb3JzOwoKICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldFVzZXIiLCBudWxsKTsKCiAgICAgICAgICBpZiAoIV90aGlzLm90aGVyRXJyb3JzKSB7CiAgICAgICAgICAgIF90aGlzLmlzUmVnaXN0ZXJlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/opt/lampp/htdocs/e28/p3/src/components/pages/RegisterPage.vue"],"names":[],"mappings":"AA2DA,SAAS,KAAT,QAAsB,iBAAtB;AACA,OAAO,SAAP,MAAsB,aAAtB;AAEA,eAAe;AACX,EAAA,IADW,kBACJ;AACH,WAAO;AACH,MAAA,IAAI,EAAE;AACF,QAAA,IAAI,EAAE,EADJ;AAEF,QAAA,KAAK,EAAE,EAFL;AAGF,QAAA,QAAQ,EAAE;AAHR,OADH;AAMH,MAAA,YAAY,EAAE,KANX;AAOH,MAAA,OAAO,EAAE,KAPN;AAQH,MAAA,MAAM,EAAE,IARL;AASH,MAAA,WAAW,EAAE;AATV,KAAP;AAWH,GAbU;AAeX,EAAA,QAAQ,EAAE;AACN,IAAA,IADM,kBACC;AACH,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAzB;AACH;AAHK,GAfC;AAqBX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,sBACM;AACP,UAAI,SAAQ,GAAI,IAAI,SAAJ,CAAc,KAAK,IAAnB,EAAyB;AACrC,QAAA,IAAI,EAAE,wBAD+B;AAErC,QAAA,KAAK,EAAE,gBAF8B;AAGrC,QAAA,QAAQ,EAAE;AAH2B,OAAzB,CAAhB;;AAMA,UAAI,SAAS,CAAC,KAAV,EAAJ,EAAuB;AACnB,aAAK,MAAL,GAAc,SAAS,CAAC,MAAV,CAAiB,GAAjB,EAAd;AACJ,OAFA,MAEO;AACH,aAAK,MAAL,GAAc,IAAd;AACJ;;AAEA,aAAO,SAAS,CAAC,MAAV,EAAP;AACH,KAfI;AAiBL,IAAA,QAjBK,sBAiBM;AAAA;;AACP,UAAI,KAAK,QAAL,EAAJ,EAAqB;AACjB,QAAA,KAAK,CAAC,IAAN,CAAW,WAAX,EAAwB,KAAK,IAA7B,EAAmC,IAAnC,CAAwC,UAAC,QAAD,EAAc;AAClD,UAAA,KAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,IAAT,CAAc,MAAjC;;AACA,UAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,SAAnB,EAA8B,IAA9B;;AAEA,cAAI,CAAC,KAAI,CAAC,WAAV,EAAuB;AACnB,YAAA,KAAI,CAAC,YAAL,GAAoB,IAApB;AACJ;AACH,SAPD;AAQJ;AACH;AA5BI;AArBE,CAAf","sourcesContent":["<template>\n    <div id=\"account-page\">\n        <div>\n            <h2>Register</h2>\n            <div>\n                <label>\n                    Name:\n                    <input \n                        type=\"text\" \n                        v-model=\"data.name\" \n                        v-on:blur=\"validate\" \n                        />\n                </label>\n                <div v-if=\"errors\">\n                    <p v-if=\"errors.name\">{{ errors.name[0] }}</p>\n                </div>\n            </div>    \n\n            <div>\n                <label>\n                    Email:\n                    <input \n                        type=\"text\" \n                        v-model=\"data.email\" \n                        v-on:blur=\"validate\"\n                        />\n                </label>\n                <div v-if=\"errors\">\n                    <p v-if=\"errors.email\">{{ errors.email[0] }}</p>\n                </div>   \n            </div>\n\n            <div>\n                <label>\n                    Password:\n                    <input \n                        type=\"password\" \n                        v-model=\"data.password\" \n                        v-on:blur=\"validate\"\n                        />\n                </label>\n                <div v-if=\"errors\">\n                    <p v-if=\"errors.password\">{{ errors.password[0] }}</p>\n                </div>   \n            </div>\n\n            <div class=\"alert-success\" v-if=\"isRegistered\">\n                You are registered.\n            </div>\n            <div class=\"alert-danger\" v-if=\"otherErrors\">\n                {{ otherErrors[0] }}\n            </div>\n\n            <button v-on:click=\"register\">Register</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nimport Validator from \"validatorjs\";\n\nexport default {\n    data() {\n        return {\n            data: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n            },\n            isRegistered: false,\n            isAdded: false,\n            errors: null,\n            otherErrors: null,\n        };\n    },\n\n    computed: {\n        user() {\n            return this.$store.state.user;\n        },\n    },\n\n    methods: {\n        validate() {\n            let validator = new Validator(this.data, {\n                name: \"required|between:3,100\",\n                email: \"required|email\",\n                password: \"required|between:8,100\",\n            });\n\n            if (validator.fails()) {\n                this.errors = validator.errors.all();\n            } else {\n                this.errors = null;\n            }\n\n            return validator.passes();\n        },\n\n        register() {\n            if (this.validate()) {\n                axios.post(\"/register\", this.data).then((response) => {\n                    this.otherErrors = response.data.errors;\n                    this.$store.commit(\"setUser\", null);\n\n                    if (!this.otherErrors) {\n                        this.isRegistered = true;\n                    }\n                });\n            }\n        },\n    },\n};\n</script>"],"sourceRoot":""}]}