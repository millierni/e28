{"remainingRequest":"/opt/lampp/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/opt/lampp/htdocs/e28/p3/src/components/pages/AddPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/opt/lampp/htdocs/e28/p3/src/components/pages/AddPage.vue","mtime":1620780052947},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXhpb3MgfSBmcm9tICJAL2NvbW1vbi9hcHAuanMiOwppbXBvcnQgVmFsaWRhdG9yIGZyb20gInZhbGlkYXRvcmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtaW5lcjogewogICAgICAgIGJyYW5kOiAiIiwKICAgICAgICBtb2RlbDogIiIsCiAgICAgICAgaGFzaGluZ0FsZ29yaXRobTogIiIsCiAgICAgICAgaGFzaHJhdGU6IDAsCiAgICAgICAgcG93ZXI6IDAKICAgICAgfSwKICAgICAgZXJyb3JzOiBudWxsLAogICAgICBpc0FkZGVkOiBmYWxzZSwKICAgICAgaXNXYXJuaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IodGhpcy5taW5lciwgewogICAgICAgIGJyYW5kOiAicmVxdWlyZWR8YmV0d2VlbjozLDEwMCIsCiAgICAgICAgbW9kZWw6ICJyZXF1aXJlZHxiZXR3ZWVuOjEsMTAwIiwKICAgICAgICBoYXNoaW5nQWxnb3JpdGhtOiAicmVxdWlyZWR8YmV0d2VlbjoxLDEwMCIsCiAgICAgICAgaGFzaHJhdGU6ICJyZXF1aXJlZHxudW1lcmljfG1pbjoyIiwKICAgICAgICBwb3dlcjogInJlcXVpcmVkfG51bWVyaWN8bWluOjEiCiAgICAgIH0pOwoKICAgICAgaWYgKHZhbGlkYXRvci5mYWlscygpKSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSB2YWxpZGF0b3IuZXJyb3JzLmFsbCgpOwogICAgICAgIHRoaXMuaXNXYXJuaW5nID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9ycyA9IG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWxpZGF0b3IucGFzc2VzKCk7CiAgICB9LAogICAgYWRkTWluZXI6IGZ1bmN0aW9uIGFkZE1pbmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudmFsaWRhdGUoKSkgewogICAgICAgIGF4aW9zLnBvc3QoIi9taW5lciIsIHRoaXMubWluZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gcmVzcG9uc2UuZGF0YS5lcnJvcnM7CiAgICAgICAgICAgIF90aGlzLmlzQWRkZWQgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMuaXNXYXJuaW5nID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRlbWl0KCJ1cGRhdGUtbWluZXJzIik7CgogICAgICAgICAgICBfdGhpcy5pc0FkZGVkID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMuaXNXYXJuaW5nID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/opt/lampp/htdocs/e28/p3/src/components/pages/AddPage.vue"],"names":[],"mappings":"AAiGA,SAAS,KAAT,QAAsB,iBAAtB;AACA,OAAO,SAAP,MAAsB,aAAtB;AAEA,eAAe;AACX,EAAA,IADW,kBACJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE;AACH,QAAA,KAAK,EAAE,EADJ;AAEH,QAAA,KAAK,EAAE,EAFJ;AAGH,QAAA,gBAAgB,EAAE,EAHf;AAIH,QAAA,QAAQ,EAAE,CAJP;AAKH,QAAA,KAAK,EAAE;AALJ,OADJ;AAQH,MAAA,MAAM,EAAE,IARL;AASH,MAAA,OAAO,EAAE,KATN;AAUH,MAAA,SAAS,EAAE;AAVR,KAAP;AAYH,GAdU;AAgBX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,sBACM;AACP,UAAI,SAAQ,GAAI,IAAI,SAAJ,CAAc,KAAK,KAAnB,EAA0B;AACtC,QAAA,KAAK,EAAE,wBAD+B;AAEtC,QAAA,KAAK,EAAE,wBAF+B;AAGtC,QAAA,gBAAgB,EAAE,wBAHoB;AAItC,QAAA,QAAQ,EAAE,wBAJ4B;AAKtC,QAAA,KAAK,EAAE;AAL+B,OAA1B,CAAhB;;AAQA,UAAI,SAAS,CAAC,KAAV,EAAJ,EAAuB;AACnB,aAAK,MAAL,GAAc,SAAS,CAAC,MAAV,CAAiB,GAAjB,EAAd;AACA,aAAK,SAAL,GAAiB,IAAjB;AACJ,OAHA,MAGO;AACH,aAAK,MAAL,GAAc,IAAd;AACJ;;AACA,aAAO,SAAS,CAAC,MAAV,EAAP;AACH,KAjBI;AAmBL,IAAA,QAnBK,sBAmBM;AAAA;;AACT,UAAI,KAAK,QAAL,EAAJ,EAAqB;AACnB,QAAA,KAAK,CAAC,IAAN,CAAW,QAAX,EAAqB,KAAK,KAA1B,EAAiC,IAAjC,CAAsC,UAAC,QAAD,EAAc;AAElD,cAAI,QAAQ,CAAC,IAAT,CAAc,MAAlB,EAA0B;AACxB,YAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAT,CAAc,MAA5B;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACA,YAAA,KAAI,CAAC,SAAL,GAAiB,IAAjB;AACF,WAJA,MAKK;AACH,YAAA,KAAI,CAAC,KAAL,CAAW,eAAX;;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AACA,YAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;AACF;AACD,SAZD;AAaF;AACD;AAnCI;AAhBE,CAAf","sourcesContent":["<template>\n    <div>\n      <!-- Source: http://getdrawings.com/miner-icon#miner-icon-8.png [By Avocadorable] -->\n      <img id=\"logo\" alt=\"Miner logo\" src=\"@/assets/images/miner.png\" width=\"140\">\n      <h1 id=\"title\">Add Miner</h1>\n      <div id=\"inputs\">\n        <div class=\"row center\">\n            <div class=\"col-lg-9\">\n                <label class=\"block\" for=\"brand\">\n                  <h4 class=\"block-title\">Brand:</h4> \n                  <input \n                    type=\"text\" \n                    v-model=\"miner.brand\" \n                    id=\"brand\" \n                    v-on:blur=\"validate\" \n                  />\n                </label>\n                <div v-if=\"errors\">\n                  <p data-test=\"brand-error\" v-if=\"errors.brand\">{{ errors.brand[0] }}</p>\n                </div>\n            </div>\n\n            <div class=\"col-lg-9\">\n                <label class=\"block\" for=\"model\">\n                  <h4 class=\"block-title\">Model:</h4> \n                  <input \n                    type=\"text\"\n                    v-model=\"miner.model\" \n                    id=\"model\"\n                    v-on:blur=\"validate\"\n                  />\n                </label>\n                <div v-if=\"errors\">\n                  <p data-test=\"model-error\" v-if=\"errors.model\">{{ errors.model[0] }}</p>\n                </div>\n            </div>\n\n            <div class=\"col-lg-9\">\n                <label class=\"block\" for=\"hashingAlgorithm\">\n                  <h4 class=\"block-title\">Hashing Algorithm:</h4> \n                  <input \n                    type=\"text\"\n                    v-model=\"miner.hashingAlgorithm\" \n                    id=\"hashingAlgorithm\"\n                    v-on:blur=\"validate\" \n                  />\n                </label>\n                <div v-if=\"errors\">\n                  <p data-test=\"hashingAlgorithm-error\" v-if=\"errors.hashingAlgorithm\">{{ errors.hashingAlgorithm[0] }}</p>\n                </div>\n            </div>\n\n            <div class=\"col-lg-9\">\n                <label class=\"block\" for=\"hashrate\">\n                  <h4 class=\"block-title\">Hashrate (TH/s):</h4>\n                  <input \n                    type=\"number\"\n                    v-model=\"miner.hashrate\" \n                    id=\"hashrate\"\n                    v-on:blur=\"validate\"\n                  />\n                </label>\n                <div v-if=\"errors\">\n                  <p data-test=\"hashrate-error\" v-if=\"errors.hashrate\">{{ errors.hashrate[0] }}</p>\n                </div>\n            </div>\n\n            <div class=\"col-lg-9\">\n                <label class=\"block\" for=\"power\">\n                  <h4 class=\"block-title\">Power (W):</h4> \n                  <input \n                    type=\"number\" \n                    v-model=\"miner.power\" \n                    id=\"power\"\n                    v-on:blur=\"validate\"\n                  />\n                </label>\n                <div v-if=\"errors\">\n                  <p data-test=\"power-error\" v-if=\"errors.power\">{{ errors.power[0] }}</p>\n                </div>\n            </div>\n\n        </div>\n      </div>\n\n      <div class=\"alert-success\" v-if=\"isAdded\">\n        The miner was added successfully.\n      </div>\n      <div class=\"alert-warning\" v-if=\"isWarning\">\n        Please fill all the required fields.\n      </div>\n\n      <button data-test=\"addminer\" v-on:click=\"addMiner\">Add Miner</button>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nimport Validator from \"validatorjs\";\n\nexport default {\n    data() {\n        return {\n            miner: {\n                brand: \"\",\n                model: \"\",\n                hashingAlgorithm: \"\",\n                hashrate: 0,\n                power: 0,\n            },\n            errors: null,\n            isAdded: false,\n            isWarning: false,\n        };\n    },\n\n    methods: {\n        validate() {\n            let validator = new Validator(this.miner, {\n                brand: \"required|between:3,100\",\n                model: \"required|between:1,100\",\n                hashingAlgorithm: \"required|between:1,100\",\n                hashrate: \"required|numeric|min:2\",\n                power: \"required|numeric|min:1\",\n            });\n\n            if (validator.fails()) {\n                this.errors = validator.errors.all();\n                this.isWarning = true;\n            } else {\n                this.errors = null;\n            }\n            return validator.passes();\n        },\n\n        addMiner() {\n          if (this.validate()) {\n            axios.post(\"/miner\", this.miner).then((response) => {\n\n              if (response.data.errors) {\n                this.errors = response.data.errors;\n                this.isAdded = false;\n                this.isWarning = true;\n              }\n              else {\n                this.$emit(\"update-miners\");\n                this.isAdded = true;\n                this.isWarning = false;\n              }\n            });\n          }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.block {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  text-align: center;\n  margin: 5px;\n  margin-top: 30px;\n  padding: 15px;\n  padding-bottom: 30px;\n  background-color: gainsboro;\n}\n\n.block-title {\n  margin: 10px;\n}\n\n.center {\n  text-align: center;\n  justify-content: center;\n}\n\n\n</style>"],"sourceRoot":""}]}