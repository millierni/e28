{"remainingRequest":"/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/opt/lampp/htdocs/e28/p3/src/components/pages/AccountPage.vue?vue&type=template&id=19702abd","dependencies":[{"path":"/opt/lampp/htdocs/e28/p3/src/components/pages/AccountPage.vue","mtime":1620780094541},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IGlkPSJhY2NvdW50LXBhZ2UiPgogICAgICAgIDxkaXYgdi1pZj0idXNlciI+CiAgICAgICAgICAgIDxoMj4KICAgICAgICAgICAgICAgIEhpLCA8c3BhbiBkYXRhLXRlc3Q9Im5hbWUiPnt7IHVzZXIubmFtZSB9fTwvc3Bhbj4hCiAgICAgICAgICAgIDwvaDI+CiAgICAgICAgICAgIDxidXR0b24gZGF0YS10ZXN0PWxvZ291dC1idXR0b24gdi1vbjpjbGljaz0ibG9nb3V0Ij5Mb2dvdXQ8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiB2LWVsc2U+CiAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICA8aDI+TG9naW48L2gyPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsOgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3Q9ImxvZ2luLWVtYWlsIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0idGV4dCIgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW1vZGVsPSJkYXRhLmVtYWlsIiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtb246Ymx1cj0idmFsaWRhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPSJlcnJvcnMiPgogICAgICAgICAgICAgICAgICAgICAgICA8cCB2LWlmPSJlcnJvcnMuZW1haWwiPnt7IGVycm9ycy5lbWFpbFswXSB9fTwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZDoKICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdD0ibG9naW4tcGFzc3dvcmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJwYXNzd29yZCIgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW1vZGVsPSJkYXRhLnBhc3N3b3JkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1vbjpibHVyPSJ2YWxpZGF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9ImVycm9ycyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaWY9ImVycm9ycy5wYXNzd29yZCI+e3sgZXJyb3JzLnBhc3N3b3JkWzBdIH19PC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhbGVydC1kYW5nZXIiIHYtaWY9Im90aGVyRXJyb3JzIj4KICAgICAgICAgICAgICAgICAgICB7eyBvdGhlckVycm9yc1swXSB9fQogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLXRlc3Q9bG9naW4tYnV0dG9uIHYtb246Y2xpY2s9ImxvZ2luIj5Mb2dpbjwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgIDxyb3V0ZXItbGluawogICAgICAgICAgICAgICAgdi1mb3I9ImxpbmsgaW4gbGlua3MiCiAgICAgICAgICAgICAgICB2LWJpbmQ6a2V5PSJsaW5rIgogICAgICAgICAgICAgICAgdi1iaW5kOnRvPSJwYXRoc1tsaW5rXSI+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UiPnt7IGxpbmsgfX08L3NwYW4+CiAgICAgICAgICAgICAgICA8L3JvdXRlci1saW5rPgogICAgICAgICAgICA8L3VsPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+Cg=="},{"version":3,"sources":["/opt/lampp/htdocs/e28/p3/src/components/pages/AccountPage.vue"],"names":[],"mappings":"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","file":"/opt/lampp/htdocs/e28/p3/src/components/pages/AccountPage.vue","sourceRoot":"","sourcesContent":["<template>\n    <div id=\"account-page\">\n        <div v-if=\"user\">\n            <h2>\n                Hi, <span data-test=\"name\">{{ user.name }}</span>!\n            </h2>\n            <button data-test=logout-button v-on:click=\"logout\">Logout</button>\n        </div>\n\n        <div v-else>\n            <div>\n                <h2>Login</h2>\n                <div>\n                    <label>\n                        Email:\n                        <input \n                            data-test=\"login-email\"\n                            type=\"text\" \n                            v-model=\"data.email\" \n                            v-on:blur=\"validate\"\n                            />\n                    </label>\n                    <div v-if=\"errors\">\n                        <p v-if=\"errors.email\">{{ errors.email[0] }}</p>\n                    </div>\n                </div>\n\n                <div>\n                    <label>\n                        Password:\n                        <input\n                        data-test=\"login-password\"\n                            type=\"password\" \n                            v-model=\"data.password\"\n                            v-on:blur=\"validate\"\n                            />\n                    </label>\n                    <div v-if=\"errors\">\n                        <p v-if=\"errors.password\">{{ errors.password[0] }}</p>\n                    </div>                    \n                </div>\n\n                <div class=\"alert-danger\" v-if=\"otherErrors\">\n                    {{ otherErrors[0] }}\n                </div>\n\n                <button data-test=login-button v-on:click=\"login\">Login</button>\n            </div>\n\n            <ul>\n                <router-link\n                v-for=\"link in links\"\n                v-bind:key=\"link\"\n                v-bind:to=\"paths[link]\">\n                    <span class=\"page\">{{ link }}</span>\n                </router-link>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nimport Validator from \"validatorjs\";\n\nexport default {\n    data() {\n        return {\n            data: {\n                email: \"\",\n                password: \"\",\n            },\n            errors: null,\n            otherErrors: null,\n            isAdded: false,\n            isWarning: false,\n\n            /* Store links in an array to maintain order */\n            links: [\"Register\"],\n\n            /* Map links to the appropriate component */\n            paths: {\n                Register: \"Register\",\n            },\n        };\n    },\n\n    computed: {\n        user() {\n            return this.$store.state.user;\n        },\n    },\n\n    methods: {\n        validate() {\n            let validator = new Validator(this.data, {\n                email: \"required|email\",\n                password: \"required|between:8,100\",\n            });\n\n            if (validator.fails()) {\n                this.errors = validator.errors.all();\n                this.isWarning = true;\n            } else {\n                this.errors = null;\n            }\n            return validator.passes();\n        },\n\n        login() {\n            if (this.validate()) {\n                axios.post(\"login\", this.data).then((response) => {\n                    if (response.data.authenticated) {\n                        this.$store.commit(\"setUser\", response.data.user);\n                    } else {\n                        this.otherErrors = response.data.errors;\n                    }\n                });\n            }\n        },\n\n        logout() {\n            axios.post(\"logout\").then((response) => {\n                if (response.data.success) {\n                    this.$store.commit(\"setUser\", false);\n                }\n            });\n        },\n    },\n};\n</script>"]}]}